/*! jQuery CRUD Listin - v1.0.0 - 2016-03-16
* https://github.com/improvein/jquery-crudlistin
* Improve-in */
!function(e){function t(t,r,i){var o=!0;if(o=i.beforeAddElement.call(),o!==!1){var a=t.data("prototype"),l=t.data("index"),c=a.replace(i.itemIndexPlaceholder,l);t.data("index",l+1);var d=e(c);r?t.append(d):t.prepend(d),n(d.find(i.removeButtonSelector),i),i.afterAddElement.call(t,d)}}function n(t,n){e(t).click(function(t){t.preventDefault();var r=!0;return r=n.beforeRemoveElement.call(),r!==!1&&e(this).closest("."+n.itemClass.replace(" ",".")).remove(),n.afterRemoveElement.call(),!1})}var r={init:function(r){var i=e.extend(e.fn.crudlistin.defaults,r);return this.each(function(r,o){var a=e(o);a.data("index",a.find(".crud-item").length),i.newButton.click(function(e){return t(a,i.newItemLast,i),!1}),n(a.find(i.removeButtonSelector),i)})},addnew:function(){return this.each(function(n,r){var i=e(r);t(i,settings.newItemLast,settings)})}};e.fn.crudlistin=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on CRUDListin"):r.init.apply(this,arguments)},e.fn.crudlistin.defaults={newButton:null,removeButtonSelector:".delete-item-btn",newItemLast:!0,itemClass:"crud-item",itemIndexPlaceholder:/__name__/g,beforeAddElement:function(){},afterAddElement:function(e){},beforeRemoveElement:function(){},afterRemoveElement:function(){}}}(jQuery);