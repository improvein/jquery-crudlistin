/*! jQuery CRUD Listin - v1.0.0 - 2016-03-16
* https://github.com/improvein/jquery-crudlistin
* Improve-in */
!function(e){function t(t,i,r){var c=!0;if(c=r.beforeAddElement.call(),c!==!1){var d=t.data("prototype"),o=t.data("index"),l=d.replace(r.itemIndexPlaceholder,o);t.data("index",o+1);var u=e(l);i?t.append(u):t.prepend(u),n(u.find(".delete-item-btn"),r),r.afterAddElement.call()}}function n(t,n){e(t).click(function(t){t.preventDefault();var i=!0;return i=n.beforeRemoveElement.call(),i!==!1&&e(this).closest(".crud-item").remove(),n.afterRemoveElement.call(),!1})}var i={init:function(i){var r=e.extend(e.fn.crudlistin.defaults,i);return this.each(function(i,c){crudList=e(c),crudList.data("index",crudList.find(".crud-item").length),r.newButton.click(function(e){return t(crudList,r.newItemLast,r),!1}),n(crudList.find(r.removeButtonSelector),r)})},addnew:function(){return this.each(function(n,i){crudList=e(i),t(crudList,settings.newItemLast,settings)})}};e.fn.crudlistin=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on CRUDListin"):i.init.apply(this,arguments)},e.fn.crudlistin.defaults={listSelector:".crud-listin",newButton:null,removeButtonSelector:".delete-item-btn",newItemLast:!0,itemIndexPlaceholder:/__name__/g,beforeAddElement:function(){},afterAddElement:function(){},beforeRemoveElement:function(){},afterRemoveElement:function(){}}}(jQuery);